# üì± Auto Connect Android Phone - Wireless Debugging 

Este script fornece uma solu√ß√£o automatizada para o problema comum de reconex√£o do Android Studio via Wi-Fi. Como a IDE n√£o rastreia mudan√ßas din√¢micas de IP e Porta ap√≥s reinicializa√ß√µes, este script utiliza o `nmap` para localizar o dispositivo e for√ßar a conex√£o via ADB. Basta executar o arquivo e ele ir√° buscar seu celular e fazer a conex√£o com a IDE.

## üìù Resumo do Problema
Ap√≥s parear o aparelho (QR Code/Pairing Code), √© comum que o Android Studio perca a conex√£o porque:
* **Portas Din√¢micas:** O Android atribui uma porta aleat√≥ria (ex: 30001 a 65535) a cada nova sess√£o de Wireless Debugging.
* **Mudan√ßa de IP:** Se o celular n√£o tiver IP est√°tico, ele pode mudar de endere√ßo na rede.
* **Limita√ß√£o da IDE:** O Android Studio muitas vezes falha em rastrear essas mudan√ßas de IP e porta automaticamente, perdendo o rastro do dispositivo.

---

## üõ†Ô∏è Requisitos e Instala√ß√£o

### 1. Nmap para Windows
O script depende do `nmap` para encontrar a porta aberta no seu celular. Basta instalar utilizando a op√ß√£o padr√£o.
* **Download:** [nmap.org](https://nmap.org/download.html)
* **Instala√ß√£o Importante:** Durante a instala√ß√£o do componente **Npcap**, voc√™ **DEVE** marcar a op√ß√£o conforme a imagem abaixo para garantir que o script funcione corretamente:

![Instala√ß√£o do Npcap - WinPcap Mode](assets/setup.png)
> *Certifique-se de marcar "Install Npcap in WinPcap API-compatible Mode".*

### 2. Configura√ß√£o no Android
#### Ativar Wireless Debugging
* V√° em **Configura√ß√µes > Op√ß√µes do Desenvolvedor**.
* Ative a chave **Depura√ß√£o sem fio (Wireless Debugging)**.

#### Atalho nas Configura√ß√µes R√°pidas
* Nas **Op√ß√µes do Desenvolvedor**, procure por **Blocos de desenv. para config. r√°pidas**.
* Ative a op√ß√£o **Depura√ß√£o sem fio**.
* Isso adicionar√° um √≠cone no seu menu de atalhos (junto com Wi-Fi e Lanterna) para ligar/desligar a depura√ß√£o rapidamente.

---

## üåê Configura√ß√£o de IP Est√°tico

Para que a identifica√ß√£o seja instant√¢nea, o celular deve usar um **IP Est√°tico**.

* **No Aparelho:** Acesse as configura√ß√µes da rede Wi-Fi > Detalhes > Configura√ß√µes IP > Mude de **DHCP** para **Est√°tico**.
* **No Roteador:** Reserve o IP (ex: `192.168.3.101`) para o endere√ßo MAC do seu celular nas configura√ß√µes de DHCP do roteador.

> **Nota:** Esta configura√ß√£o √© segura e aplicada **apenas nesta rede espec√≠fica**. Em redes externas, seu celular continuar√° usando DHCP normalmente.

---

## üíª O Script (.bat)

O arquivo `.bat` realiza um scan no range de portas **30001-65535**.

> [!IMPORTANT]
> Antes de executar, abra o arquivo `.bat` e altere a vari√°vel `ANDROID_DEVICE` para o IP est√°tico que voc√™ configurou no seu celular.

* Seu celular e computador devem estar conectados na mesma rede. Se estiverem em redes diferentes n√£o ser√° poss√≠vel encontrar seu aparelho.

* **Vantagem:** Localiza automaticamente a porta din√¢mica do Android sem interven√ß√£o manual.

* **Desvantagem:** Pode levar alguns segundos se a porta tiver mudado (devido ao range considerado para fazer a busca).
